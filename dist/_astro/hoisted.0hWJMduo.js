import{a as m}from"./axios.B4uVmeYG.js";import"./toastify.CHTvHrP4.js";import"./_commonjsHelpers.Cpj98o6Y.js";function u(){let t={},i=document.cookie;if(i==="")return t;let o=i.split(";");for(let l of o){let[s,c]=l.split("=");s=s.trim(),c=c?c.trim():"",t[s]=decodeURIComponent(c)}return t}function r(t){return u()[t]||null}function g(){const t=r("hashID"),i=r("userID");!t||!i?window.location.href="/":m.get("https://estudiolucmar.com/backend/auth/checkCurrentSession.php",{withCredentials:!0}).then(function(o){console.log(o.data),o.data.success===!1&&(window.location.href="/")}).catch(function(o){console.log(o)})}g();document.addEventListener("DOMContentLoaded",function(){let t=!0;document.addEventListener("click",function(e){const d=e.target,n=document.getElementById("moreMobileMenu");n&&!n.contains(d)&&(a(),t=!0)});function i(){t?c():a(),t=!t}const o=document.getElementById("moreMobileMenu");o&&o.addEventListener("click",function(e){e.stopPropagation(),i()});function l(){const e=window.location.href;e.includes("buscador")?localStorage.setItem("currentPage","Buscador"):e.includes("home")?localStorage.setItem("currentPage","Home"):e.includes("settings")?localStorage.setItem("currentPage","Settings"):e.includes("encargos")?localStorage.setItem("currentPage","Encargos"):e.includes("noticias")?localStorage.setItem("currentPage","Noticias"):e.includes("mapa")&&localStorage.setItem("currentPage","Mapa")}function s(e){document.querySelectorAll("a").forEach(n=>{n.id.includes(e)?(n.classList.remove("h-[45px]","bg-white","p-2","text-black"),n.classList.add("h-[55px]","bg-blue-400","p-2.5","text-white")):(n.classList.remove("h-[55px]","bg-blue-400","p-2.5","text-white"),n.classList.add("h-[45px]","bg-white","p-2","text-black"))})}l(),s(localStorage.getItem("currentPage")),document.getElementById("mobile-itemLogOut").addEventListener("click",function(){m.get("https://estudiolucmar.com/backend/auth/logout.php",{withCredentials:!0}).then(e=>{console.log(e.data),e.data.success&&(window.location.href="/")}).catch(e=>{console.error("Logout error:",e)})});function c(){document.getElementById("mobile-itemMoreMenuIcon").classList.remove("bg-white"),document.getElementById("mobile-itemMoreMenuIcon").classList.add("bg-blue-400","text-white"),document.getElementById("moreMobileMenu").classList.add("shadow-lg","bg-blue-400","bg-opacity-30"),document.getElementById("mobile-itemSettings").classList.remove("hidden"),document.getElementById("mobile-itemEncargos").classList.remove("hidden"),document.getElementById("mobile-itemNoticias").classList.remove("hidden"),document.getElementById("mobile-itemLogOut").classList.remove("hidden")}function a(){document.getElementById("mobile-itemMoreMenuIcon").classList.remove("bg-blue-400","text-white"),document.getElementById("mobile-itemMoreMenuIcon").classList.add("bg-white"),document.getElementById("moreMobileMenu").classList.remove("shadow-lg","bg-blue-400","bg-opacity-30"),document.getElementById("mobile-itemSettings").classList.add("hidden"),document.getElementById("mobile-itemEncargos").classList.add("hidden"),document.getElementById("mobile-itemNoticias").classList.add("hidden"),document.getElementById("mobile-itemLogOut").classList.add("hidden")}});
